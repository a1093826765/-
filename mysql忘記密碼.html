<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.1 (460875)"/><meta name="keywords" content="linux, mysql"/><meta name="altitude" content="7.428174495697021"/><meta name="author" content="November"/><meta name="created" content="2020-07-15 02:02:22 +0000"/><meta name="latitude" content="23.08291625976562"/><meta name="longitude" content="112.5010854793938"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-07-15 03:11:08 +0000"/><title>mysql忘記密碼</title></head><body><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 441px;"/><col style="width: 439px;"/></colgroup><tbody><tr><td colspan="2" style="background-color: rgb(0, 168, 45); border: 1px solid rgb(0, 134, 36); width: 880px; padding: 8px;"><div style="text-align: center; "><span style="font-size: 24px; color: rgb(204, 204, 204); --inversion-type-color: simple;"><b>mysql忘記密碼</b></span></div></td></tr><tr><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 441px; padding: 8px;"><div>线索Cues</div></td><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 439px; padding: 8px;"><div>笔记Notes</div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 441px; padding: 8px;"><ol><li><div>停止mysql服務</div></li><li><div>插入mysql配置文件，免密登陸</div></li><li><div>重啟mysql服務</div></li><li><div>修改密碼腳本</div></li><li><div>停止mysql服務</div></li><li><div>刪除免密登陸</div></li><li><div>重啟mysql服務</div></li></ol></td><td style="border: 1px solid rgb(204, 204, 204); width: 439px; padding: 8px;"><ol><li><div><span style="color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">service mysqld stop</span></div></li><li><div><font face="Arial" style="color: rgb(17, 17, 17); --inversion-type-color: simple;">sed -i "5i </font><span style="color: rgb(73, 73, 73); font-family: monospace; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">skip-</span><span style="color: rgb(0, 0, 255); font-family: monospace; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">grant-</span><span style="color: rgb(0, 0, 255); font-family: monospace; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">tables</span><font face="Arial" style="color: rgb(17, 17, 17); --inversion-type-color: simple;">" /etc/my.cnf</font></div></li><li><div><span style="color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">service mysqld </span><span style="color: rgb(0, 0, 255); font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">start</span></div></li><li><div><span style="font-size: 12px; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot;; --inversion-type-color: simple;">MYSQL=$(which mysql)</span></div></li><ol><li><div><font style="font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); font-size: 12px; --inversion-type-color: simple;">$MYSQL -u root -p<span style="caret-color: rgb(255, 255, 255);">”</span>” -e “use mysql; </font><span style="overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Courier New&quot; !important;">update user set authentication_string=passworD(</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">“a2288311</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">"</span><span style="overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Courier New&quot; !important;">) where user=</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">'</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">root</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">’</span><span style="overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Courier New&quot; !important;">; </span><span style="font-size: 12px; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot;; --inversion-type-color: simple;">flush privileges;</span><font style="font-family: &quot;Courier New&quot;; color: rgb(0, 0, 0); font-size: 12px; --inversion-type-color: simple;">” (5.7以上版本)</font></div></li><li><div><span style="color: rgb(0, 0, 0); --inversion-type-color:  simple; font-family: &quot;Courier New&quot;; font-size: 12px;">$MYSQL -u root -p</span><span style="color: rgb(0, 0, 0); --inversion-type-color:  simple; font-family: &quot;Courier New&quot;; font-size: 12px; caret-color: rgb(255, 255, 255);">”</span><span style="color: rgb(0, 0, 0); --inversion-type-color:  simple; font-family: &quot;Courier New&quot;; font-size: 12px;">” -e “</span><span style="overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Courier New&quot; !important;">UPDATE user SET password=password(</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">"</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">a2288311</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">"</span><span style="overflow-wrap: break-word; font-size: 12px; color: rgb(0, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: &quot;Courier New&quot; !important;">) WHERE user=</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">'</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">root</span><span style="overflow-wrap: break-word; color: rgb(128, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">’</span><span style="overflow-wrap: break-word; color: rgb(0, 0, 0); font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; line-height: 1.5; font-family: &quot;Courier New&quot; !important; font-size: 12px !important;">; </span><span style="font-size: 12px; color: rgb(0, 0, 0); font-family: &quot;Courier New&quot;; --inversion-type-color: simple;">flush privileges;</span><span style="color: rgb(0, 0, 0); --inversion-type-color:  simple; font-family: &quot;Courier New&quot;; font-size: 12px;">" </span><span style="color: rgb(0, 0, 0); --inversion-type-color:  simple;">(5.6以下版本)</span></div></li></ol><li><div><span style="color: rgb(73, 73, 73); font-family: Arial, Helvetica, sans-serif; font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">service mysqld stop</span></div></li><li><div><span style="color: rgb(0, 0, 0); --inversion-type-color: simple;">sed -i "5d" /etc/my.cnf</span></div></li><li><div><span style="color: rgb(73, 73, 73); font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">service mysqld </span><span style="color: rgb(0, 0, 255); font-size: 14px; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(244, 237, 227);">start</span></div></li></ol></td></tr><tr><td colspan="2" style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 880px; padding: 8px;"><div>总结Summary</div></td></tr><tr><td colspan="2" style="border: 1px solid rgb(204, 204, 204); width: 880px; padding: 8px;"><ul><li><div>记录最重要几点</div></li><li><div>写成可以快速检索形式</div></li><li><div>课后复习总结</div></li></ul><div><br/></div></td></tr></tbody></table><div><br/></div></div><div><br/></div></body></html>