<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.8 (461813)"/><meta name="keywords" content="bigdata, kafka, linux"/><meta name="author" content="November"/><meta name="created" content="2020-11-18 03:25:51 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-11-18 15:40:12 +0000"/><title>kafka操作</title></head><body><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 441px;"/><col style="width: 439px;"/></colgroup><tbody><tr><td colspan="2" style="vertical-align: middle; background-color: rgb(0, 168, 45); border: 1px solid rgb(0, 134, 36); width: 880px; padding: 8px;"><div style="text-align: center;"><span style="font-size: 24px; --inversion-type-color:  simple; color: rgb(255, 255, 255); font-weight: bold;">kafka操作</span></div></td></tr><tr><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 441px; padding: 8px;"><div>线索Cues</div></td><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 439px; padding: 8px;"><div>笔记Notes</div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 441px; padding: 8px;"><ol><li><div>启动kafka</div></li><li><div>停止kafka</div></li><li><div>创建主题</div></li><li><div>列出所有主题</div></li><li><div>查看某个主题详细信息</div></li><li><div>修改主题（只能修改分区数和副本的放置策略，分区数只允许增加）</div></li><li><div>删除主题（delete.topic.enable is not set to true）默认是标记删除</div></li></ol></td><td style="border: 1px solid rgb(204, 204, 204); width: 439px; padding: 8px;"><ol><li><div>sh ./kafka-server-start.sh -daemon /root/apps/kafka-2.6.0/config/server.properties</div></li><ol><li><div>-daemon：后台运行</div></li><li><div>/root/apps/kafka-2.6.0/config/server.properties：配置文件</div></li><li><div>[--override property=value]*：后面可以自定义配置参数</div></li></ol><li><div>sh ./kafka-server-stop.sh</div></li><li><div>创建主题两种类型：</div></li><ol><li><div>使用默认负载均衡策略，自动分配分区：sh ./kafka-topics.sh --zookeeper localhost1:2181 --create --topic hello --partitions 2 --replication-factor 2</div></li><ol><li><div>--zookeeper：数据源在zookeeper 必须要 </div></li><li><div>--create：创建</div></li><li><div>--topic：设置主题名</div></li><li><div>--partitions：设置分区数</div></li><li><div>--replication-factor：设置副本数(不能超过集群的数量)</div></li></ol><li><div>自定义策略，创建多少分区，以及每个分区副本的使用：sh ./kafka-topics.sh --zookeeper localhost1:2181 --create --topic hello --replica-assignment 101:102,102:103</div></li><ol><li><div>--zookeeper：数据源在zookeeper 必须要 </div></li><li><div>--create：创建</div></li><li><div>--topic：设置主题名</div></li><li><div>--replica-assignment：设置自定义分区与分区副本</div></li><li><div>101:102,102:103：每个分区有两个副本，分别是101:102和102:103分区，对应的id号是副本</div></li></ol></ol><li><div>sh kafka-topics.sh --zookeeper localhost1:2181 --list</div></li><li><div>sh kafka-topics.sh --zookeeper localhost1:2181 --describe --topic hello</div></li><ol><li><div>--describe：查看某个主题</div></li><li><div>--topic ：主题名</div></li></ol><li><div>只能修改分区数和副本的放置策略，分区数只允许增加</div></li><ol><li><div>修改分区数：sh kafka-topics.sh --zookeeper localhost1:2181 --alter --topic hello1 --partitions 3</div></li></ol><li><div>sh kafka-topics.sh --zookeeper localhost1:2181 --delete --topic hello</div></li></ol></td></tr><tr><td colspan="2" style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 880px; padding: 8px;"><div>()总结Summary</div></td></tr><tr><td colspan="2" style="border: 1px solid rgb(204, 204, 204); width: 880px; padding: 8px;"><ul><li><div>记录最重要几点</div></li><li><div>写成可以快速检索形式</div></li><li><div>课后复习总结</div></li></ul><div><br/></div></td></tr></tbody></table><div><br/></div></body></html>