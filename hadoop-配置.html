<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.1 (460875)"/><meta name="keywords" content="bigdata, hadoop, linux"/><meta name="author" content="November"/><meta name="created" content="2020-07-28 02:17:19 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-07-28 08:45:12 +0000"/><title>hadoop-配置</title></head><body><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 441px;"/><col style="width: 439px;"/></colgroup><tbody><tr><td colspan="2" style="background-color: rgb(0, 168, 45); border: 1px solid rgb(0, 134, 36); width: 880px; padding: 8px;"><div style="text-align: center; "><span style="font-size: 24px; --inversion-type-color:  simple;"><span style="font-size: 24px; --inversion-type-color:  simple; color: rgb(204, 204, 204); font-weight: bold;">hadoop-配置</span></span></div></td></tr><tr><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 441px; padding: 8px;"><div>线索Cues</div></td><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 439px; padding: 8px;"><div>笔记Notes</div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 441px; padding: 8px;"><ol><li><div>hadoop配置</div></li><li><div>配置环境变量</div></li><li><div>集群配置</div></li></ol></td><td style="border: 1px solid rgb(204, 204, 204); width: 439px; padding: 8px;"><ol><li><div>进入hadoop文件夹中的etc</div></li><ol><li><div>修改Hadoop-env.sh中的JAVA_HOME，修改为JAVA_HOME的绝对地址（因为子进程的需要）</div></li><li><div>修改core-site.xml<span style="color: rgb(255, 38, 0); --inversion-type-color: simple;">（此处的配置不能使用IP地址，必须使用名称）</span></div></li><ol><li><div><img src="hadoop-%E9%85%8D%E7%BD%AE.resources/FB46607B-38AE-4FBB-9045-D61F955DBA41.png" height="528" width="1288"/></div></li><li><div>&lt;!-- 指定HADOOP所使用的文件系统schema（URI），HDFS的老大（NameNode）的地址 --&gt;</div></li><li><div>&lt;property&gt;</div></li><li><div>                &lt;name&gt;fs.defaultFS&lt;/name&gt;</div></li><li><div>                &lt;value&gt;<a href="hdfs://172.16.106.128:9000">hdfs://172.16.106.128:9000</a>&lt;/value&gt;</div></li><li><div>        &lt;/property&gt;</div></li><li><div>&lt;!-- 指定hadoop运行时产生文件的存储目录 --&gt;</div></li><li><div>        &lt;property&gt;</div></li><li><div>                &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</div></li><li><div>                &lt;value&gt;/root/data/hadoop&lt;/value&gt;</div></li><li><div>        &lt;/property&gt;</div></li></ol><li><div>hdfs-site.xml</div></li><ol><li><div>有  &lt;!-- 指定HDFS副本的数量 --&gt;</div></li><li><div> &lt;property&gt;</div></li><li><div> &lt;name&gt;dfs.replication&lt;/name&gt;</div></li><li><div>            &lt;value&gt;1&lt;/value&gt;</div></li><li><div>      &lt;/property&gt;</div></li><li><div>&lt;property&gt;</div></li><li><div>  &lt;name&gt;dfs.secondary.http.address&lt;/name&gt;</div></li><li><div>  &lt;value&gt;<a href="hdfs://172.16.106.128:9000">172.16.106.128:</a>9870&lt;/value&gt;</div></li><li><div> &lt;/property&gt;</div></li></ol><li><div>mapred-site.xml</div></li><ol><li><div>&lt;!-- 指定mr运行在yarn上 --&gt;</div></li><li><div>        &lt;property&gt;</div></li><li><div>            &lt;name&gt;mapreduce.framework.name&lt;/name&gt;</div></li><li><div>            &lt;value&gt;yarn&lt;/value&gt;</div></li><li><div>        &lt;/property&gt;</div></li></ol><li><div>yarn-site.xml</div></li><ol><li><div>&lt;!-- 指定YARN的老大（ResourceManager）的地址 --&gt;</div></li><li><div>        &lt;property&gt;</div></li><li><div>            &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;</div></li><li><div>            &lt;value&gt;weekend-1206-01&lt;/value&gt;</div></li><li><div>        &lt;/property&gt;</div></li><li><div>        &lt;!-- reducer获取数据的方式 --&gt;</div></li><li><div>        &lt;property&gt;</div></li><li><div>            &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</div></li><li><div>            &lt;value&gt;mapreduce_shuffle&lt;/value&gt;</div></li><li><div>        &lt;/property&gt;</div></li></ol></ol><li><div>/etc/profile</div></li><ol><li><div>export HADOOP_HOME=/root/apps/hadoop-3.2.1</div></li><li><div>        export PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</div></li></ol><li><div><span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">在/hadoop-3.2.1/sbin路径下：</span></div></li><ol><li><div><span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">将start-dfs.sh，stop-dfs.sh两个文件顶部添加以下参数</span></div></li><ol><li><div><span style="color: rgb(79, 79, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250);">HDFS_DATANODE_USER=root</span></div></li><li><div><span style="color: rgb(79, 79, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250);">HADOOP_SECURE_DN_USER=hdfs</span></div></li><li><div><span style="color: rgb(79, 79, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250);">HDFS_NAMENODE_USER=root</span></div></li><li><div><span style="color: rgb(79, 79, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250);">HDFS_SECONDARYNAMENODE_USER=root</span></div></li></ol><li><div><span style="color: rgb(77, 77, 77); font-family: &quot;Microsoft YaHei&quot;, &quot;SF Pro Display&quot;, Roboto, Noto, Arial, &quot;PingFang SC&quot;, sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">start-yarn.sh，stop-yarn.sh顶部也需添加以下：</span></div></li><ol><li><div><span style="color: rgb(79, 79, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250);">YARN_RESOURCEMANAGER_USER=root</span></div></li><li><div><span style="color: rgb(79, 79, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250);">HADOOP_SECURE_DN_USER=yarn</span></div></li><li><div><span style="color: rgb(79, 79, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 14px; font-variant-ligatures: common-ligatures; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250);">YARN_NODEMANAGER_USER=root</span></div></li></ol></ol></ol></td></tr><tr><td colspan="2" style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 880px; padding: 8px;"><div>总结Summary</div></td></tr><tr><td colspan="2" style="border: 1px solid rgb(204, 204, 204); width: 880px; padding: 8px;"><ul><li><div>记录最重要几点</div></li><li><div>写成可以快速检索形式</div></li><li><div>课后复习总结</div></li></ul><div><br/></div></td></tr></tbody></table><div><br/></div></div><div><br/></div></body></html>