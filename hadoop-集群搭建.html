<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.8 (461813)"/><meta name="keywords" content="hadoop, linux"/><meta name="altitude" content="11.16163063049316"/><meta name="author" content="November"/><meta name="created" content="2020-09-09 09:29:49 +0000"/><meta name="latitude" content="23.10172908020341"/><meta name="longitude" content="113.2730494069026"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-09-09 12:07:28 +0000"/><title>hadoop-集群搭建</title></head><body><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 441px;"/><col style="width: 439px;"/></colgroup><tbody><tr><td colspan="2" style="vertical-align: middle; background-color: rgb(0, 168, 45); border: 1px solid rgb(0, 134, 36); width: 880px; padding: 8px;"><div style="text-align: center; "><span style="color: rgb(255, 255, 255); --inversion-type-color:  simple;"><b><font style="font-size: 24px;">hadoop-集群搭建</font></b></span></div></td></tr><tr><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 441px; padding: 8px;"><div>线索Cues</div></td><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 439px; padding: 8px;"><div>笔记Notes</div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 441px; padding: 8px;"><ol><li><div>环境准备工作</div></li><li><div><span>在datanode机子上安装zookeeper</span></div></li><li><div>在所有机子上安装hadoop</div></li><li><div>集群启动步骤</div></li></ol></td><td style="border: 1px solid rgb(204, 204, 204); width: 439px; padding: 8px;"><ol><li><div>准备工作</div></li><ol><li><div>配置好/etc/hosts 主机名和ip的映射关系（如果你们公司是租用的服务器或是使用的云主机<span style="font-family: unset; font-size: unset; background-color: rgb(204, 204, 204); --inversion-type-background-color: simple;">配置的是内网IP地址和主机名的映射关系）</span></div></li><li><div><span style="font-family: unset; font-size: unset; background-color: rgb(204, 204, 204); --inversion-type-background-color: simple;">所以机子关闭防火墙</span></div></li><li><div>主机配置好ssh免密登陆</div></li><li><div>安装jdk，配置环境变量</div></li></ol><li><div>zookeeper配置</div></li><li><div>hadoop配置</div></li><li><div>启动步骤</div></li><ol><li><div>cd /root/apps/zookeeper/bin/ 后<span style="background-color: rgb(204, 204, 204); --inversion-type-background-color: simple;"><font face="unset"> ./zkServer.sh start </font>—<font face="unset"> 启动zookeeper集群（分别在bigdata4、</font></span><span style="font-family: unset; font-size: unset; background-color: rgb(204, 204, 204); --inversion-type-background-color:  simple;">bigdata5</span><span style="font-family: unset; font-size: unset; background-color: rgb(204, 204, 204); --inversion-type-background-color: simple;">、</span><span style="font-family: unset; font-size: unset; background-color: rgb(204, 204, 204); --inversion-type-background-color:  simple;">bigdata6</span><span style="font-family: unset; font-size: unset; background-color: rgb(204, 204, 204); --inversion-type-background-color: simple;">上启动zk）</span></div></li><li><div>cd /root/apps/hadoop-3.2.1 后 <span style="background-color: rgb(204, 204, 204); --inversion-type-background-color: simple;"><font face="unset">sbin/hadoop-daemon.sh start journalnode </font>—<font face="unset"> </font></span>启动journalnode（分别在在mini5、mini6、mini7上执行）</div></li><li><div>#在bigdata1上执行命令:<span style="background-color: rgb(204, 204, 204); --inversion-type-background-color: simple;"><font face="unset"> hdfs namenode -format </font>—<font face="unset"> </font></span>格式化HDFS 然后将格式化后的data文件拷贝到第二台namenode上（bigdata2）</div></li><li><div>start-dfs.sh — 启动HDFS(在bigdata1上执行)</div></li><li><div>start-yarn.sh — 启动YARN(在bigdata3，bigdata7上执行)</div></li></ol></ol></td></tr><tr><td colspan="2" style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 880px; padding: 8px;"><div>()总结Summary</div></td></tr><tr><td colspan="2" style="border: 1px solid rgb(204, 204, 204); width: 880px; padding: 8px;"><ul><li><div>记录最重要几点</div></li><li><div>写成可以快速检索形式</div></li><li><div>课后复习总结</div></li></ul><div><br/></div></td></tr></tbody></table><div><br/></div></body></html>