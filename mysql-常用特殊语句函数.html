<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.8 (461813)"/><meta name="keywords" content="mysql, sql"/><meta name="author" content="November"/><meta name="created" content="2020-09-16 07:41:06 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-09-16 08:21:47 +0000"/><title>mysql-常用特殊语句函数</title></head><body><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 441px;"/><col style="width: 439px;"/></colgroup><tbody><tr><td colspan="2" style="vertical-align: middle; background-color: rgb(0, 168, 45); border: 1px solid rgb(0, 134, 36); width: 880px; padding: 8px;"><div style="text-align: center; "><span style="font-size: 24px; --inversion-type-color:  simple;"><span style="font-size: 24px; --inversion-type-color:  simple; color: rgb(255, 255, 255); font-weight: bold;">mysql-常用特殊语句函数</span></span></div></td></tr><tr><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 441px; padding: 8px;"><div>线索Cues</div></td><td style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 439px; padding: 8px;"><div>笔记Notes</div></td></tr><tr><td style="border: 1px solid rgb(204, 204, 204); width: 441px; padding: 8px;"><ol><li><div>事务</div></li><li><div>导出数据</div></li><li><div>导入数据</div></li><li><div>判断函数</div></li></ol></td><td style="border: 1px solid rgb(204, 204, 204); width: 439px; padding: 8px;"><ol><li><div>mysql事务：<span style="color: rgb(108, 0, 0); --inversion-type-color:  simple;">（使用</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); --inversion-type-color:  simple; font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">Innodb数据库引擎的数据库或表才支持使用事务</span><span style="color: rgb(108, 0, 0); --inversion-type-color:  simple;">）</span></div></li><ol><li><div>事务满足4个条件：</div></li><ol><li><div>原子性：一个事务中的所有操作，要么全部完成，要么全部失败。当中间环节发生错误，事务就会被回滚，等于事务没有被执行过。</div></li><li><div>一致性：在事务的执行前和事务的执行后，数据库的完整性没有被破坏。这表示写入的数据必须完全符合所有的预设规则。</div></li><li><div>隔离性：数据库允许多个事务并发执行，这个可以防止事务交叉执行而导致数据的不一致。</div></li><ol><li><div>隔离级别：<span style="color: rgb(108, 0, 0); --inversion-type-color:  simple;">（用</span><span style="color: rgb(0, 253, 255); --inversion-type-color: simple;">Set transaction</span><span style="color: rgb(108, 0, 0); --inversion-type-color:  simple;">设置隔离级别）</span></div></li><ol><li><div>未提交 — read uncommitted</div></li><li><div>读提交 — read committed</div></li><li><div>可重复读 — repeatable read</div></li><li><div>串行化 — serializable</div></li></ol></ol><li><div>持久性：事务处理结束后，对数据的修改就是永久的。</div></li></ol><li><div>事务的操作：<span style="color: rgb(108, 0, 0); --inversion-type-color:  simple;">（默认情况下，事务是会自动提交的，需要关闭自动提交功能</span> <span style="color: rgb(0, 253, 255); --inversion-type-color: simple;">set autocommit=0</span><span style="font-size: 13px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="color: rgb(108, 0, 0); --inversion-type-color:  simple;">）</span></div></li><ol><li><div>Begin 或者 start transaction — 开启一个事务</div></li><li><div>Commit 或者 commit work — 提交事务</div></li><li><div>Rollback 或者 rollback work — 回滚</div></li><li><div>Savepoint 保存点名 — 创建一个保存点</div></li><li><div>Release savepoint 保存点名 — 删除一个保存点</div></li><li><div>Rollback to 保存点名 — 把事务回滚到保存点</div></li><li><div>Set transaction — 设置事务的隔离级别</div></li></ol></ol><li><div>导出数据：</div></li><ol><li><div>Select * from 表名 info outfield '导出文件地址’;</div></li></ol><li><div>导入数据：</div></li><ol><li><div>命令导入sql：mysql -u root -p******&lt;text.sql</div></li><li><div>Use 数据库; source sql文件地址</div></li><li><div>Load data local infield '数据文件地址’ into table 表名;</div></li></ol><li><div>判断函数：</div></li><ol><li><div>Case 列名 when 值 then 返回值 when 值2 then 返回值2 … else 返回值3 end<font style="color: rgb(108, 0, 0); --inversion-type-color: simple;"> (当列名的值为when值时，就返回then的返回值，当都不符合时，返回else的返回值)</font></div></li><li><div><span style="caret-color: rgb(255, 147, 147);"><font style="color: rgb(0, 0, 0); --inversion-type-color: simple;">If(判断语句，true返回值，false返回值)</font></span></div></li></ol></ol></td></tr><tr><td colspan="2" style="background-color: rgb(234, 234, 234); border: 1px solid rgb(187, 187, 187); width: 880px; padding: 8px;"><div>()总结Summary</div></td></tr><tr><td colspan="2" style="border: 1px solid rgb(204, 204, 204); width: 880px; padding: 8px;"><ul><li><div>记录最重要几点</div></li><li><div>写成可以快速检索形式</div></li><li><div>课后复习总结</div></li></ul><div><br/></div></td></tr></tbody></table><div><br/></div></body></html>